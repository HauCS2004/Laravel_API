<script setup>
import { useRoute, useRouter } from 'vue-router'
import axios from 'axios'

const route = useRoute()
const router = useRouter()

// HÃ m kiá»ƒm tra link nÃ o Ä‘ang active Ä‘á»ƒ tÃ´ mÃ u
const isActive = (path) => route.path === path

const handleLogout = async () => {
    if(!confirm('ÄÄƒng xuáº¥t khá»i Admin?')) return;
    try { await axios.post('/api/logout'); } catch(e) {}
    localStorage.removeItem('auth_token');
    window.location.href = '/login'; // Reload láº¡i trang cho sáº¡ch
}
</script>

<template>
    <div class="card border-0 shadow-sm h-100">
        <div class="card-header bg-dark text-white text-center py-3">
            <h5 class="mb-0">ğŸ‘‘ QUáº¢N TRá»Š</h5>
            <small>Admin Panel</small>
        </div>
        <div class="list-group list-group-flush">
            <router-link to="/admin/dashboard" class="list-group-item list-group-item-action py-3" :class="{ 'active': isActive('/admin/dashboard') }">
                ğŸ“‚ Dashboard
            </router-link>
            <router-link to="/admin/products" class="list-group-item list-group-item-action py-3" :class="{ 'active': isActive('/admin/products') }">
                ğŸ“¦ Sáº£n Pháº©m
            </router-link>

            <router-link to="/admin/orders" class="list-group-item list-group-item-action py-3" :class="{ 'active': isActive('/admin/orders') }">
                ğŸ“„ ÄÆ¡n HÃ ng
            </router-link>
            <router-link to="/admin/categories" class="list-group-item list-group-item-action py-3" :class="{ 'active': isActive('/admin/categories') }">
                ğŸ“‚ Danh Má»¥c
            </router-link>
            
            <router-link to="/" class="list-group-item list-group-item-action py-3 text-success">
                ğŸ  Vá» Shop BÃ¡n HÃ ng
            </router-link>

            
        </div>
    </div>
</template>

<style scoped>
/* TÃ´ mÃ u cho nÃºt Ä‘ang chá»n */
.active {
    background-color: #0d6efd;
    color: white;
    font-weight: bold;
    border-color: #0d6efd;
}
</style>